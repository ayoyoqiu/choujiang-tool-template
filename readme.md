# 抽奖工具 - 离线网页版 2.1

一个功能强大的线下活动随机抽奖工具，纯前端实现，无需服务器，支持多轮抽奖、名单管理、奖品配置、背景配置和结果导出。

## 项目简介

这是一个离线网页抽奖工具，适合在会议、活动等场景中使用。支持多轮抽奖，每轮可设置不同的奖品和数量，抽奖结果会自动保存到浏览器本地存储。用户可以通过可视化界面自定义奖品配置，无需修改代码。

## 功能特性

### 核心功能

- ✅ **双模式抽奖**：
  - **单次抽取模式**：每次抽取1个，适合需要逐个确认的场景
  - **批量抽取模式**：一次抽取多个，多个名字同时滚动，适合快速批量抽取
- ✅ **多轮抽奖**：支持多个奖品轮次，每个轮次可设置不同的奖品和数量
- ✅ **随机点名**：点击"开始"按钮，名字快速随机切换（每5毫秒切换一次）
- ✅ **暂停锁定**：点击"暂停"按钮锁定当前抽中的人员，名字颜色变为红色
- ✅ **批量抽取**：批量模式下，根据奖品数量同时显示多个名字滚动，点击暂停后一次性确认所有中奖者
- ✅ **奖品配置**：可视化界面配置奖品名称、图片URL、数量，无需修改代码
- ✅ **背景配置**：独立配置页面背景图片，支持自定义背景URL，实时预览
- ✅ **名单管理**：支持编辑参与抽奖的人员名单，修改后自动保存
- ✅ **结果导出**：可将所有轮次的中奖名单导出为CSV文件
- ✅ **浏览次数统计**：实时统计并显示页面浏览次数
- ✅ **数据持久化**：名单、抽奖结果、奖品配置、背景配置、抽取模式自动保存到浏览器本地存储，刷新页面不丢失

### 界面特性

- 🎨 **精美UI**：左侧面板显示奖品信息和图片，主内容区显示抽奖界面
- 🖼️ **背景配置**：独立背景配置功能，支持自定义背景图片，实时预览，建议尺寸1920*1079
- 💎 **毛玻璃风格**：弹窗采用透明毛玻璃效果，现代化设计风格
- 📱 **响应式设计**：完美适配不同屏幕尺寸（手机、平板、桌面），批量抽奖自动调整布局
- 🎯 **实时反馈**：当前轮次已中奖名单实时显示，最新中奖者高亮显示
- 🎪 **批量显示**：批量抽取模式下，多个名字同时滚动，视觉效果更震撼
- 📊 **浏览次数**：左下角实时显示页面浏览次数统计
- 🎭 **中奖区显示**：默认显示灰色"中奖区"文字，抽奖时自动切换为名字显示

## 使用方法

### 方式一：GitHub Pages 在线使用（推荐）

1. **访问在线版本**
   - 如果已部署到GitHub Pages，直接访问：`https://你的用户名.github.io/仓库名/`
   - 无需下载，打开即用

2. **部署到GitHub Pages**
   ```bash
   # 1. 在GitHub上创建新仓库
   # 2. 克隆仓库到本地
   git clone https://github.com/你的用户名/仓库名.git
   cd 仓库名
   
   # 3. 将项目文件复制到仓库目录
   # 4. 提交并推送
   git add .
   git commit -m "Initial commit: 抽奖工具2.0"
   git push origin main
   
   # 5. 在GitHub仓库设置中启用GitHub Pages
   # Settings -> Pages -> Source: main branch -> Save
   ```

### 方式二：本地使用

1. **使用Python启动（推荐）**
   ```bash
   cd 项目目录
   python3 -m http.server 8000
   ```
   然后在浏览器中访问：http://localhost:8000

2. **直接打开**
   - 双击 `index.html` 文件即可在浏览器中打开（某些功能可能受限）

### 操作说明

#### 1. 配置奖品（首次使用或需要修改时）

1. 点击"配置奖品"按钮，打开配置弹窗
2. 编辑现有奖品：
   - 修改奖品标识（如：奖品1、一等奖、特等奖等）
   - 修改奖品名称（如：纯棉文化衫、iPhone15等）
   - 修改奖品图片URL（支持网络图片链接）
   - 修改奖品数量
   - 图片URL输入后会自动预览，预览图片居中显示
3. 添加新奖品：点击"添加奖品"按钮
4. 删除奖品：点击对应奖品的"删除"按钮（至少保留一个奖品）
5. 保存配置：点击"保存配置"按钮，配置立即生效

#### 1.5. 配置背景（可选）

1. 点击"背景配置"按钮，打开背景配置弹窗
2. 输入背景图片URL（建议图片大小 <6MB，尺寸 1920*1079）
3. 实时预览背景图片效果
4. 点击"恢复默认"可恢复默认背景
5. 点击"保存背景"按钮，背景立即生效

#### 2. 选择抽取模式

- **单次抽取**：适合需要逐个确认中奖者的场景
- **批量抽取**：适合需要快速批量抽取的场景

#### 3. 开始抽奖

**单次抽取模式：**
1. 点击"开始"按钮，名字开始随机切换
2. 点击"暂停"按钮，锁定当前显示的名字并确认中奖
3. 重复操作直到当前奖品抽满

**批量抽取模式：**
1. 点击"开始"按钮，系统会根据当前奖品剩余数量显示对应数量的名字框
2. 所有名字同时快速滚动
3. 点击"暂停"按钮，一次性确认所有正在显示的名字为中奖者
4. 所有中奖者会以红色高亮显示
5. 如果还没抽满，可以再次点击"开始"继续抽取剩余名额

#### 4. 切换奖品轮次

- 点击左侧面板的奖品按钮，切换到不同的奖品轮次
- 每个轮次独立抽奖，已中奖人员不会重复中奖

#### 5. 编辑名单

- 点击"编辑名单"按钮，弹出编辑窗口
- **注意**：只配置1次，不可重复配置名单（弹窗中有提示）
- 修改名单后点击"保存"，系统会自动清空之前的抽奖结果
- 名单支持换行分隔，每行一个名字

#### 6. 导出结果

- 点击"导出名单"按钮，下载CSV格式的中奖名单
- 文件包含所有轮次的中奖信息

## 文件结构

```
抽奖工具2.1/
├── index.html      # 主HTML文件
├── main.js         # JavaScript逻辑代码
├── style.css       # 样式文件
├── readme.md       # 项目说明文档
├── DEPLOY.md       # 部署说明文档
└── .gitignore      # Git忽略文件
```

## 技术实现

### 核心技术

- **HTML5**：页面结构
- **CSS3**：样式和布局，支持响应式设计
- **JavaScript (ES6+)**：业务逻辑
- **LocalStorage**：数据持久化（名单、结果、配置、模式）

### 关键功能实现

- **随机抽奖**：使用 `setInterval` 和 `Math.random()` 实现快速随机切换
- **批量抽取**：动态创建多个名字显示元素，同时滚动，支持一次性确认多个中奖者
- **数据存储**：使用 `localStorage` 存储名单、抽奖结果、奖品配置、抽取模式
- **防重复抽奖**：通过记录所有轮次的已中奖名单，确保不重复
- **轮次管理**：通过数组索引管理多个奖品轮次，支持动态配置
- **奖品配置**：可视化界面管理奖品信息，实时预览图片

## 默认配置

### 默认奖品配置

项目内置了3个默认奖品（可在界面中修改）：
1. **奖品1：纯棉贝壳文化衫** - 5个名额
2. **奖品2：法兰绒毛毯** - 5个名额
3. **奖品3：闹海健身包** - 5个名额

### 默认名单

项目内置了10个默认测试名单（可在界面中编辑）：
- 测试1、测试2、测试3、测试4、测试5、测试6、测试7、测试8、测试9、测试10

### 界面设置

- **标题**：抽奖页面
- **标题字体**：华文行楷，字号45px，颜色黄色（#FFFF00），带阴影效果
- **背景图片**：https://www.img520.com/Q82HvE.png（可通过"背景配置"按钮修改）
- **名单显示**：字号60px，默认显示灰色"中奖区"文字，抽奖时显示白色名字，中奖后显示红色
- **按钮颜色**：淡黄色（#FDE85E）
- **弹窗风格**：透明毛玻璃效果，现代化设计
- **浏览次数**：左下角显示灰色浏览次数统计

## 自定义配置

### 通过界面配置（推荐）

所有配置都可以通过界面完成，无需修改代码：
- **奖品配置**：点击"配置奖品"按钮
- **背景配置**：点击"背景配置"按钮
- **名单编辑**：点击"编辑名单"按钮
- **抽取模式**：点击模式选择器切换

### 通过代码配置（高级用户）

如果需要通过代码修改默认配置，可以编辑 `main.js` 文件：

#### 修改默认奖品配置

```javascript
const defaultPrizeRounds = [
  {
    name: '奖品1 纯棉贝壳文化衫',
    count: 5,
    img: 'https://www.img520.com/fh57ic.jpg'
  },
  // 添加更多奖品...
];
```

#### 修改默认名单

```javascript
const defaultNames = [
  '姓名1', '姓名2', '姓名3'
  // 添加更多名字...
];
```

#### 修改背景图片（推荐使用界面配置）

**方式一：通过界面配置（推荐）**
- 点击"背景配置"按钮，在弹窗中输入背景图片URL

**方式二：通过代码修改**
编辑 `main.js` 文件中的默认背景：
```javascript
const defaultBackground = 'https://www.img520.com/Q82HvE.png';
```

#### 修改标题

编辑 `index.html` 文件中的标题文本：
```html
<h1 class="title">抽奖页面</h1>
```

## 注意事项

1. **浏览器兼容性**：建议使用现代浏览器（Chrome、Firefox、Safari、Edge等）
2. **数据存储**：数据存储在浏览器本地，清除浏览器数据会丢失所有配置和结果
3. **离线使用**：项目完全离线可用，但奖品图片需要网络访问（如果使用网络图片URL）
4. **编辑名单**：编辑名单后会自动清空之前的抽奖结果，请谨慎操作
5. **奖品配置**：保存奖品配置后会自动清空之前的抽奖结果，请谨慎操作
6. **图片加载**：如果图片URL无效，会显示占位符，不影响抽奖功能
7. **批量抽取**：批量抽取时，如果显示的名字有重复，系统会自动从剩余名单中补充，确保不重复

## 更新日志

### 2024-12-19 (v2.1)
- ✅ 新增**独立背景配置功能**：独立的"背景配置"按钮和弹窗，支持自定义背景图片，实时预览
- ✅ 新增**浏览次数统计**：左下角实时显示页面浏览次数
- ✅ 新增**作者链接**：左下角显示作者信息，点击可访问主页
- ✅ 优化**弹窗UI设计**：采用透明毛玻璃风格，现代化视觉效果
- ✅ 优化**响应式布局**：批量抽奖在不同设备上自动调整布局，完美适配手机、平板、桌面
- ✅ 优化**输入框对比度**：提高配置弹窗中输入框和文本区域的对比度，提升可读性
- ✅ 优化**图片预览**：奖品配置和背景配置的图片预览居中显示
- ✅ 优化**布局细节**：调整主内容区域和标题位置，优化间距
- ✅ 改进**默认显示**：显示区域默认显示灰色"中奖区"文字，更直观
- ✅ 添加**配置提示**：编辑名单和背景配置添加了使用提示
- ✅ 更新**默认名单**：改为测试1-测试10，方便测试使用

### 2024-12-10 (v2.0)
- ✅ 新增**批量抽取模式**：支持一次抽取多个，多个名字同时滚动
- ✅ 新增**奖品配置功能**：可视化界面配置奖品名称、图片、数量，无需修改代码
- ✅ 优化界面布局：调整模式选择器和标题位置
- ✅ 改进用户体验：批量抽取时一次性确认多个中奖者，视觉效果更震撼

### 2024-12-08
- ✅ 更新奖品配置为3个新奖品（纯棉贝壳文化衫、法兰绒毛毯、闹海健身包）
- ✅ 更新背景图片
- ✅ 更新标题为"抽奖页面"
- ✅ 优化界面布局和样式

## 部署到GitHub Pages

本项目可以轻松部署到GitHub Pages，让任何人都可以通过网页访问。

### 快速部署

1. 在GitHub上创建新仓库
2. 将项目文件上传到仓库
3. 在仓库设置中启用GitHub Pages
4. 访问 `https://您的用户名.github.io/仓库名/`

详细部署步骤请查看 [DEPLOY.md](./DEPLOY.md)

## 许可证

本项目仅供学习和活动使用。

## 贡献

欢迎提交Issue和Pull Request来改进这个项目。
